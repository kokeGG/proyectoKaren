{"ast":null,"code":"import { useRef } from 'react';\nimport useStableMemo from './useStableMemo';\nimport useWillUnmount from './useWillUnmount';\n/**\n * An _immediate_ effect that runs an effect callback when its dependency array\n * changes. This is helpful for updates should must run during render, most\n * commonly state derived from props; a more ergonomic version of https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n *\n * ```ts\n * function Example({ value }) {\n *   const [intermediaryValue, setValue] = useState(value);\n *\n *   useUpdateImmediateEffect(() => {\n *     setValue(value)\n *   }, [value])\n * ```\n *\n * @category effects\n */\n\nfunction useUpdateImmediateEffect(effect, deps) {\n  var firstRef = useRef(true);\n  var tearDown = useRef();\n  useWillUnmount(function () {\n    if (tearDown.current) tearDown.current();\n  });\n  useStableMemo(function () {\n    if (firstRef.current) {\n      firstRef.current = false;\n      return;\n    }\n\n    if (tearDown.current) tearDown.current();\n    tearDown.current = effect();\n  }, deps);\n}\n\nexport default useUpdateImmediateEffect;","map":{"version":3,"names":["useRef","useStableMemo","useWillUnmount","useUpdateImmediateEffect","effect","deps","firstRef","tearDown","current"],"sources":["/home/kokegg/proyectoKaren/node_modules/@restart/hooks/esm/useUpdateImmediateEffect.js"],"sourcesContent":["import { useRef } from 'react';\nimport useStableMemo from './useStableMemo';\nimport useWillUnmount from './useWillUnmount';\n/**\n * An _immediate_ effect that runs an effect callback when its dependency array\n * changes. This is helpful for updates should must run during render, most\n * commonly state derived from props; a more ergonomic version of https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n *\n * ```ts\n * function Example({ value }) {\n *   const [intermediaryValue, setValue] = useState(value);\n *\n *   useUpdateImmediateEffect(() => {\n *     setValue(value)\n *   }, [value])\n * ```\n *\n * @category effects\n */\n\nfunction useUpdateImmediateEffect(effect, deps) {\n  var firstRef = useRef(true);\n  var tearDown = useRef();\n  useWillUnmount(function () {\n    if (tearDown.current) tearDown.current();\n  });\n  useStableMemo(function () {\n    if (firstRef.current) {\n      firstRef.current = false;\n      return;\n    }\n\n    if (tearDown.current) tearDown.current();\n    tearDown.current = effect();\n  }, deps);\n}\n\nexport default useUpdateImmediateEffect;"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,wBAAT,CAAkCC,MAAlC,EAA0CC,IAA1C,EAAgD;EAC9C,IAAIC,QAAQ,GAAGN,MAAM,CAAC,IAAD,CAArB;EACA,IAAIO,QAAQ,GAAGP,MAAM,EAArB;EACAE,cAAc,CAAC,YAAY;IACzB,IAAIK,QAAQ,CAACC,OAAb,EAAsBD,QAAQ,CAACC,OAAT;EACvB,CAFa,CAAd;EAGAP,aAAa,CAAC,YAAY;IACxB,IAAIK,QAAQ,CAACE,OAAb,EAAsB;MACpBF,QAAQ,CAACE,OAAT,GAAmB,KAAnB;MACA;IACD;;IAED,IAAID,QAAQ,CAACC,OAAb,EAAsBD,QAAQ,CAACC,OAAT;IACtBD,QAAQ,CAACC,OAAT,GAAmBJ,MAAM,EAAzB;EACD,CARY,EAQVC,IARU,CAAb;AASD;;AAED,eAAeF,wBAAf"},"metadata":{},"sourceType":"module"}