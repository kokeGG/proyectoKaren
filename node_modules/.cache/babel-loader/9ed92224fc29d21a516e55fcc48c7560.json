{"ast":null,"code":"import { useCallback, useMemo, useRef } from 'react';\nimport useEventCallback from './useEventCallback';\nimport useMounted from './useMounted';\n/**\n * useFocusManager provides a way to track and manage focus as it moves around\n * a container element. An `onChange` is fired when focus enters or leaves the\n * element, but not when it moves around inside the element, similar to\n * `pointerenter` and `pointerleave` DOM events.\n *\n * ```tsx\n * const [focused, setFocusState] = useState(false)\n *\n * const { onBlur, onFocus } = useFocusManager({\n *   onChange: nextFocused => setFocusState(nextFocused)\n * })\n *\n * return (\n *   <div tabIndex=\"-1\" onFocus={onFocus} onBlur={onBlur}>\n *     {String(focused)}\n *     <input />\n *     <input />\n *\n *     <button>A button</button>\n *   </div>\n * ```\n *\n * @returns a memoized FocusController containing event handlers\n */\n\nexport default function useFocusManager(opts) {\n  var isMounted = useMounted();\n  var lastFocused = useRef();\n  var handle = useRef();\n  var willHandle = useEventCallback(opts.willHandle);\n  var didHandle = useEventCallback(opts.didHandle);\n  var onChange = useEventCallback(opts.onChange);\n  var isDisabled = useEventCallback(opts.isDisabled);\n  var handleFocusChange = useCallback(function (focused, event) {\n    if (event && event.persist) event.persist();\n    if (willHandle && willHandle(focused, event) === false) return;\n    clearTimeout(handle.current);\n    handle.current = window.setTimeout(function () {\n      if (focused !== lastFocused.current) {\n        if (didHandle) didHandle(focused, event); // only fire a change when unmounted if its a blur\n\n        if (isMounted() || !focused) {\n          lastFocused.current = focused;\n          onChange && onChange(focused, event);\n        }\n      }\n    });\n  }, [isMounted, willHandle, didHandle, onChange, lastFocused]);\n  var handleBlur = useCallback(function (event) {\n    if (!isDisabled()) handleFocusChange(false, event);\n  }, [handleFocusChange, isDisabled]);\n  var handleFocus = useCallback(function (event) {\n    if (!isDisabled()) handleFocusChange(true, event);\n  }, [handleFocusChange, isDisabled]);\n  return useMemo(function () {\n    return {\n      onBlur: handleBlur,\n      onFocus: handleFocus\n    };\n  }, [handleBlur, handleFocus]);\n}","map":{"version":3,"names":["useCallback","useMemo","useRef","useEventCallback","useMounted","useFocusManager","opts","isMounted","lastFocused","handle","willHandle","didHandle","onChange","isDisabled","handleFocusChange","focused","event","persist","clearTimeout","current","window","setTimeout","handleBlur","handleFocus","onBlur","onFocus"],"sources":["/home/kokegg/proyectoKaren/node_modules/@restart/hooks/esm/useFocusManager.js"],"sourcesContent":["import { useCallback, useMemo, useRef } from 'react';\nimport useEventCallback from './useEventCallback';\nimport useMounted from './useMounted';\n\n/**\n * useFocusManager provides a way to track and manage focus as it moves around\n * a container element. An `onChange` is fired when focus enters or leaves the\n * element, but not when it moves around inside the element, similar to\n * `pointerenter` and `pointerleave` DOM events.\n *\n * ```tsx\n * const [focused, setFocusState] = useState(false)\n *\n * const { onBlur, onFocus } = useFocusManager({\n *   onChange: nextFocused => setFocusState(nextFocused)\n * })\n *\n * return (\n *   <div tabIndex=\"-1\" onFocus={onFocus} onBlur={onBlur}>\n *     {String(focused)}\n *     <input />\n *     <input />\n *\n *     <button>A button</button>\n *   </div>\n * ```\n *\n * @returns a memoized FocusController containing event handlers\n */\nexport default function useFocusManager(opts) {\n  var isMounted = useMounted();\n  var lastFocused = useRef();\n  var handle = useRef();\n  var willHandle = useEventCallback(opts.willHandle);\n  var didHandle = useEventCallback(opts.didHandle);\n  var onChange = useEventCallback(opts.onChange);\n  var isDisabled = useEventCallback(opts.isDisabled);\n  var handleFocusChange = useCallback(function (focused, event) {\n    if (event && event.persist) event.persist();\n    if (willHandle && willHandle(focused, event) === false) return;\n    clearTimeout(handle.current);\n    handle.current = window.setTimeout(function () {\n      if (focused !== lastFocused.current) {\n        if (didHandle) didHandle(focused, event); // only fire a change when unmounted if its a blur\n\n        if (isMounted() || !focused) {\n          lastFocused.current = focused;\n          onChange && onChange(focused, event);\n        }\n      }\n    });\n  }, [isMounted, willHandle, didHandle, onChange, lastFocused]);\n  var handleBlur = useCallback(function (event) {\n    if (!isDisabled()) handleFocusChange(false, event);\n  }, [handleFocusChange, isDisabled]);\n  var handleFocus = useCallback(function (event) {\n    if (!isDisabled()) handleFocusChange(true, event);\n  }, [handleFocusChange, isDisabled]);\n  return useMemo(function () {\n    return {\n      onBlur: handleBlur,\n      onFocus: handleFocus\n    };\n  }, [handleBlur, handleFocus]);\n}"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,OAAtB,EAA+BC,MAA/B,QAA6C,OAA7C;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,eAAT,CAAyBC,IAAzB,EAA+B;EAC5C,IAAIC,SAAS,GAAGH,UAAU,EAA1B;EACA,IAAII,WAAW,GAAGN,MAAM,EAAxB;EACA,IAAIO,MAAM,GAAGP,MAAM,EAAnB;EACA,IAAIQ,UAAU,GAAGP,gBAAgB,CAACG,IAAI,CAACI,UAAN,CAAjC;EACA,IAAIC,SAAS,GAAGR,gBAAgB,CAACG,IAAI,CAACK,SAAN,CAAhC;EACA,IAAIC,QAAQ,GAAGT,gBAAgB,CAACG,IAAI,CAACM,QAAN,CAA/B;EACA,IAAIC,UAAU,GAAGV,gBAAgB,CAACG,IAAI,CAACO,UAAN,CAAjC;EACA,IAAIC,iBAAiB,GAAGd,WAAW,CAAC,UAAUe,OAAV,EAAmBC,KAAnB,EAA0B;IAC5D,IAAIA,KAAK,IAAIA,KAAK,CAACC,OAAnB,EAA4BD,KAAK,CAACC,OAAN;IAC5B,IAAIP,UAAU,IAAIA,UAAU,CAACK,OAAD,EAAUC,KAAV,CAAV,KAA+B,KAAjD,EAAwD;IACxDE,YAAY,CAACT,MAAM,CAACU,OAAR,CAAZ;IACAV,MAAM,CAACU,OAAP,GAAiBC,MAAM,CAACC,UAAP,CAAkB,YAAY;MAC7C,IAAIN,OAAO,KAAKP,WAAW,CAACW,OAA5B,EAAqC;QACnC,IAAIR,SAAJ,EAAeA,SAAS,CAACI,OAAD,EAAUC,KAAV,CAAT,CADoB,CACO;;QAE1C,IAAIT,SAAS,MAAM,CAACQ,OAApB,EAA6B;UAC3BP,WAAW,CAACW,OAAZ,GAAsBJ,OAAtB;UACAH,QAAQ,IAAIA,QAAQ,CAACG,OAAD,EAAUC,KAAV,CAApB;QACD;MACF;IACF,CATgB,CAAjB;EAUD,CAdkC,EAchC,CAACT,SAAD,EAAYG,UAAZ,EAAwBC,SAAxB,EAAmCC,QAAnC,EAA6CJ,WAA7C,CAdgC,CAAnC;EAeA,IAAIc,UAAU,GAAGtB,WAAW,CAAC,UAAUgB,KAAV,EAAiB;IAC5C,IAAI,CAACH,UAAU,EAAf,EAAmBC,iBAAiB,CAAC,KAAD,EAAQE,KAAR,CAAjB;EACpB,CAF2B,EAEzB,CAACF,iBAAD,EAAoBD,UAApB,CAFyB,CAA5B;EAGA,IAAIU,WAAW,GAAGvB,WAAW,CAAC,UAAUgB,KAAV,EAAiB;IAC7C,IAAI,CAACH,UAAU,EAAf,EAAmBC,iBAAiB,CAAC,IAAD,EAAOE,KAAP,CAAjB;EACpB,CAF4B,EAE1B,CAACF,iBAAD,EAAoBD,UAApB,CAF0B,CAA7B;EAGA,OAAOZ,OAAO,CAAC,YAAY;IACzB,OAAO;MACLuB,MAAM,EAAEF,UADH;MAELG,OAAO,EAAEF;IAFJ,CAAP;EAID,CALa,EAKX,CAACD,UAAD,EAAaC,WAAb,CALW,CAAd;AAMD"},"metadata":{},"sourceType":"module"}